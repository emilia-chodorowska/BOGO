<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oferta BOGO - Lipiec 2025</title>

    <!-- === META TAGI OPEN GRAPH DLA PODGLĄDU W MEDIACH SPOŁECZNOŚCIOWYCH === -->
    <meta property="og:title" content="Promocja BOGO - Lipiec 2025 | Wyjątkowe Oferty">
    <meta property="og:description" content="Kup jeden produkt, a drugi otrzymasz GRATIS! Sprawdź wyjątkowe oferty BOGO na olejki eteryczne i suplementy.">
    <meta property="og:image" content="https://raw.githubusercontent.com/emilia-chodorowska/BOGO/main/images/bogo-social-preview.png">
    <meta property="og:url" content="https://emilia-chodorowska.github.io/BOGO/">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <!-- ======================================================================= -->
    
    <!-- Dołączamy bibliotekę Tailwind CSS do stylizacji -->
    <!-- UWAGA: W środowisku produkcyjnym zaleca się skompilowanie i usunięcie nieużywanych stylów (purge), aby znacznie zmniejszyć rozmiar pliku CSS. -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Dołączamy czcionkę z Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* Dodajemy niestandardową czcionkę do projektu */
        body {
            font-family: 'Montserrat', sans-serif;
            overflow-x: hidden; /* Zapobiega poziomemu przewijaniu */
        }
        /* Style dla przełącznika ramek */
        .toggle-checkbox:checked + .toggle-label .toggle-dot {
            transform: translateX(100%);
        }
        .toggle-checkbox:checked + .toggle-label {
            background-color: #48bb78; /* Zielony kolor po włączeniu */
        }
        /* Dodajemy płynne przejście dla efektu hover na kartach */
        .bogo-card {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .bogo-card:hover {
            transform: scale(1.03);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
    </style>
</head>
<body class="bg-gray-50 flex items-center justify-center min-h-screen py-8">

    <!-- SUWAK DO WŁĄCZANIA/WYŁĄCZANIA RAMEK (DEBUGOWANIE) -->
    <div class="fixed top-4 left-4 z-50">
        <label for="toggleBorders" class="flex items-center cursor-pointer">
            <div class="relative">
                <!-- Optymalizacja dostępności: dodano role="switch" i aria-checked -->
                <input type="checkbox" id="toggleBorders" class="toggle-checkbox sr-only" role="switch" aria-checked="false">
                <div class="toggle-label block bg-gray-600 w-14 h-8 rounded-full transition-colors"></div>
                <div class="toggle-dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-transform"></div>
            </div>
            <div class="ml-3 text-gray-700 font-semibold">Pokaż ramki</div>
        </label>
    </div>

    <!-- GŁÓWNY KONTENER STRONY -->
    <div id="main-container" data-debug-border="border-4 border-black" class="relative container max-w-5xl my-8 p-4 sm:p-16 md:p-20 bg-white shadow-xl rounded-lg">

        <!-- GRAFIKI TŁA (LIŚCIE) -->
        <!-- Optymalizacja dostępności: pusty atrybut alt dla obrazów czysto dekoracyjnych -->
        <img 
            src="https://raw.githubusercontent.com/emilia-chodorowska/BOGO/main/images/liscie-gora.jpg" 
            alt="" 
            class="absolute top-0 left-0 w-1/3 opacity-30 pointer-events-none z-0"
            onerror="this.style.display='none'"
        >
        <img 
            src="https://raw.githubusercontent.com/emilia-chodorowska/BOGO/main/images/liscie-dol.jpg" 
            alt="" 
            class="absolute bottom-0 right-0 w-1/3 opacity-30 pointer-events-none z-0"
            onerror="this.style.display='none'"
        >

        <!-- NAGŁÓWEK STRONY -->
        <header id="header-container" data-debug-border="border-2 border-red-500" class="text-center mb-12 md:mb-16 relative z-10 p-2">
            <div class="bg-[#d8e4d3] py-4 rounded-lg shadow">
                 <h1 class="text-3xl md:text-4xl font-bold text-[#4a5c44]">Promocja BOGO - Lipiec 2025</h1>
                 <p class="text-lg text-[#4a5c44] mt-2">Kup jeden produkt, a drugi otrzymasz GRATIS</p>
            </div>
        </header>

        <!-- GŁÓWNA TREŚĆ (Siatka z ofertami BOGO i podsumowaniem) -->
        <main id="bogo-grid-container" data-debug-border="border-2 border-blue-500" class="relative z-10 grid grid-cols-1 lg:grid-cols-2 gap-6 p-2">
            <!-- Karty BOGO i podsumowanie zostaną wstawione tutaj przez JavaScript -->
        </main>
    </div>

    <!-- === SZABLONY UŻYWANE PRZEZ JAVASCRIPT === -->

    <!-- Szablon pojedynczej karty BOGO (niewidoczny, używany przez JS) -->
    <template id="bogo-card-template">
        <div 
            class="bogo-card bg-white p-4 rounded-lg shadow-lg border-2 border-transparent flex flex-col sm:flex-row items-center gap-4"
            data-debug-border="border-green-500"
        >
            <div class="flex-shrink-0 flex items-center justify-center gap-2 w-full sm:w-1/3 mb-4 sm:mb-0">
                <img 
                    src="" alt="" 
                    class="bogo-img1 object-contain"
                    data-debug-border="border-2 border-orange-500"
                    onerror="this.src='https://placehold.co/150x150/f8d7da/d9534f?text=Błąd'"
                >
                <img 
                    src="" alt=""
                    class="bogo-img2 object-contain"
                    data-debug-border="border-2 border-orange-500"
                    onerror="this.src='https://placehold.co/150x150/f8d7da/d9534f?text=Błąd'"
                >
            </div>
            <div class="flex-grow w-full text-center sm:text-left">
                <div class="flex flex-col sm:flex-row justify-between items-center sm:items-start">
                    <h3 class="bogo-name text-sm font-semibold text-[#4a5c44] mb-2 sm:mb-0"></h3>
                    <span class="bogo-price bg-[#cce2d3] text-[#4a5c44] font-bold py-1 px-3 rounded-full text-xs whitespace-nowrap ml-0 sm:ml-2"></span>
                </div>
                <div class="text-xs text-gray-600 mt-2 border-t pt-2">
                    <p>Oszczędność: <span class="bogo-savings font-bold"></span> (<span class="bogo-savings-percent"></span>%)</p>
                    <p>Wartość PV: <span class="bogo-pv font-bold"></span></p>
                </div>
            </div>
        </div>
    </template>

    <!-- Szablon podsumowania (niewidoczny, używany przez JS) -->
    <template id="summary-template">
        <div
            class="lg:col-span-2 bogo-card bg-white p-4 rounded-lg shadow-lg border-2 border-transparent flex flex-col sm:flex-row items-center gap-4"
            data-debug-border="border-green-500" 
        >
            <div class="flex-shrink-0 flex items-center justify-center gap-2 w-full sm:w-1/3 mb-4 sm:mb-0">
                <img src="https://raw.githubusercontent.com/emilia-chodorowska/BOGO/main/images/bogo-box.png" alt="Zestaw BOGO" class="h-24 object-contain" data-debug-border="border-2 border-orange-500" onerror="this.src='https://placehold.co/150x150/f0f0f0/333?text=Zestaw'">
                <img src="https://raw.githubusercontent.com/emilia-chodorowska/BOGO/main/images/czapka.png" alt="Czapka z daszkiem" class="h-24 object-contain" data-debug-border="border-2 border-orange-500" onerror="this.src='https://placehold.co/150x150/f8d7da/d9534f?text=Błąd'">
            </div>
            <div class="flex-grow w-full text-center sm:text-left">
                <h3 class="text-sm font-semibold text-[#4a5c44] mb-2">Dodaj Zestaw BOGO do koszyka, aby otrzymać wszystkie pary wraz z DARMOWĄ Bawełnianą Czapką dōTERRA</h3>
                <div class="text-xs text-gray-600 border-t pt-2">
                     <!-- Poprawka: Usunięto "zł" z HTML, będzie dodane przez JS -->
                     <p>Cena: <strong id="total-price" class="font-bold"></strong></p>
                     <p>Wartość PV: <strong id="total-pv" class="font-bold"></strong></p>
                </div>
            </div>
        </div>
    </template>


    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- BAZA DANYCH OFERT BOGO ---
            // Zarządzanie ofertami odbywa się poprzez modyfikację tej tablicy.
            const bogoOffers = [
                { id: 1, name: "Peppermint + Wild Orange", price: 139.75, savings: 73.75, pv: 29.5, img1: "https://raw.githubusercontent.com/emilia-chodorowska/BOGO/main/images/bogo1-a.png", img2: "https://raw.githubusercontent.com/emilia-chodorowska/BOGO/main/images/bogo1-b.png", spanFull: false },
                { id: 2, name: "ZenGest + MetaPWR", price: 190.00, savings: 153.00, pv: 40.5, img1: "https://raw.githubusercontent.com/emilia-chodorowska/BOGO/main/images/bogo2-a.png", img2: "https://raw.githubusercontent.com/emilia-chodorowska/BOGO/main/images/bogo2-b.png", spanFull: false },
                { id: 3, name: "Serenity + Eucalyptus", price: 221.50, savings: 103.75, pv: 47.0, img1: "https://raw.githubusercontent.com/emilia-chodorowska/BOGO/main/images/bogo3-a.png", img2: "https://raw.githubusercontent.com/emilia-chodorowska/BOGO/main/images/bogo3-b.png", spanFull: false },
                { id: 4, name: "Melissa + Blue Tansy", price: 609.75, savings: 499.00, pv: 116.0, img1: "https://raw.githubusercontent.com/emilia-chodorowska/BOGO/main/images/bogo4-a.png", img2: "https://raw.githubusercontent.com/emilia-chodorowska/BOGO/main/images/bogo4-b.png", spanFull: false },
                { id: 5, name: "Plant Protein: Chocolate + Vanilla", price: 237.25, savings: 237.25, pv: 28.0, img1: "https://raw.githubusercontent.com/emilia-chodorowska/BOGO/main/images/bogo5-a.png", img2: "https://raw.githubusercontent.com/emilia-chodorowska/BOGO/main/images/bogo5-b.png", spanFull: true }
            ];

            // --- POBIERANIE ELEMENTÓW DOM ---
            const gridContainer = document.getElementById('bogo-grid-container');
            const summaryTemplate = document.getElementById('summary-template');
            const cardTemplate = document.getElementById('bogo-card-template');
            const toggleSwitch = document.getElementById('toggleBorders');

            // Zabezpieczenie: jeśli kluczowe elementy nie istnieją, zakończ skrypt.
            if (!gridContainer || !summaryTemplate || !cardTemplate || !toggleSwitch) {
                console.error("Nie znaleziono kluczowych elementów na stronie. Inicjalizacja przerwana.");
                return;
            }

            // --- GŁÓWNA LOGIKA ---

            // Funkcja do renderowania wszystkich ofert
            function renderOffers() {
                // Czyszczenie kontenera przed dodaniem nowych elementów
                gridContainer.innerHTML = '';
                
                bogoOffers.forEach(offer => {
                    const card = createBogoCard(offer);
                    gridContainer.appendChild(card);
                });
            }

            // Funkcja tworząca pojedynczą kartę BOGO na podstawie szablonu
            function createBogoCard(offer) {
                const cardClone = cardTemplate.content.cloneNode(true);
                const cardElement = cardClone.querySelector('.bogo-card');

                const totalValue = offer.price + offer.savings;
                const savingsPercent = totalValue > 0 ? ((offer.savings / totalValue) * 100).toFixed(1) : 0;

                // Ustawienie szerokości karty (pełna lub połówkowa)
                if (offer.spanFull) {
                    cardElement.classList.add('lg:col-span-2');
                }
                
                // Wypełnianie danych w szablonie
                cardElement.querySelector('.bogo-name').textContent = offer.name;
                cardElement.querySelector('.bogo-price').textContent = `${offer.price.toFixed(2)} zł`;
                cardElement.querySelector('.bogo-savings').textContent = `${offer.savings.toFixed(2)} zł`;
                cardElement.querySelector('.bogo-savings-percent').textContent = savingsPercent;
                cardElement.querySelector('.bogo-pv').textContent = offer.pv.toFixed(1);

                const img1 = cardElement.querySelector('.bogo-img1');
                img1.src = offer.img1;
                img1.alt = `${offer.name} - produkt kupowany`;
                img1.classList.add(offer.spanFull ? 'h-24' : 'h-20');
                
                const img2 = cardElement.querySelector('.bogo-img2');
                img2.src = offer.img2;
                img2.alt = `${offer.name} - produkt gratisowy`;
                img2.classList.add(offer.spanFull ? 'h-24' : 'h-20');

                return cardElement;
            }

            // Funkcja aktualizująca podsumowanie
            function updateSummary() {
                const totalPrice = bogoOffers.reduce((sum, offer) => sum + offer.price, 0);
                const totalPV = bogoOffers.reduce((sum, offer) => sum + offer.pv, 0);

                const summaryClone = summaryTemplate.content.cloneNode(true);
                // Poprawka: Dodajemy "zł" wewnątrz elementu <strong>, aby było pogrubione.
                summaryClone.querySelector('#total-price').textContent = `${totalPrice.toFixed(2)} zł`;
                summaryClone.querySelector('#total-pv').textContent = totalPV.toFixed(1);
                
                gridContainer.appendChild(summaryClone);
            }

            // --- LOGIKA PRZEŁĄCZNIKA RAMEK (DEBUG) ---
            function toggleBorders() {
                const show = toggleSwitch.checked;
                toggleSwitch.setAttribute('aria-checked', show); // Aktualizacja atrybutu dostępności
                
                // Ponownie wyszukujemy elementy, ponieważ są dodawane dynamicznie
                const debugElements = document.querySelectorAll('[data-debug-border]');
                debugElements.forEach(element => {
                    const classes = element.getAttribute('data-debug-border').split(' ');
                    if (show) {
                        element.classList.add(...classes);
                    } else {
                        element.classList.remove(...classes);
                    }
                });
            }

            // --- INICJALIZACJA STRONY ---
            renderOffers();
            updateSummary();
            
            toggleSwitch.addEventListener('change', toggleBorders);
            toggleBorders(); // Ustawienie początkowego stanu ramek
        });
    </script>

</body>
</html>
